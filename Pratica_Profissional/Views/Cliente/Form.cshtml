@using Pratica_Profissional.Util.Class;
@model Pratica_Profissional.ViewModel.ClienteVM

@{
    var action = ViewContext.Controller.ValueProvider.GetValue("action").RawValue.ToString().ToLower();
    bool readOnly = Convert.ToBoolean(ViewBag.ReadOnly);
}

@Html.AntiForgeryToken()
<h6 class="card-header">Informações pessoais</h6>

<div class="card-body">
    @if (action != "create")
    {
        <div class="form-group">
            <div class="form-row">
                <div class="@Helper.Input2">
                    @Html.LabelFor(model => model.idCliente, "Código", new { @class = Helper.LabelTop })
                    @Html.TextBoxFor(model => model.idCliente, new { @class = "form-control", disabled = "disabled" })
                </div>
            </div>
        </div>
    }

    <div class="form-group">
        <div class="form-row">

            @if (action == "create")
            {
                <div class="@Helper.Input2">
                    @Html.LabelFor(model => model.flTipo, "Tipo", new { @class = "required" })
                    @Html.DropDownListFor(model => model.flTipo, Pratica_Profissional.ViewModel.ClienteVM.Tipo, new { @class = "form-control" })
                    @Html.ValidationMessageFor(model => model.flTipo, null, new { @class = "text-danger" })
                </div>
            }
            else
            {
                <div class="@Helper.Input2">
                    @Html.LabelFor(model => model.flTipo, "Tipo", new { @class = "required" })
                    @Html.TextBoxFor(model => model.dsTipo, new { @class = "form-control", disabled = true })
                    @Html.HiddenFor(model => model.flTipo)
                    @*@Html.DropDownListFor(model => model.tipo, Sistema.Models.Clientes.Tipo, new { @class = "form-control", disabled = true })*@
                </div>
            }

            <div class="@Helper.Input5" id="divNmFisico">
                @Html.LabelFor(model => model.nmClienteFisico, "Cliente", new { @class = "required" })
                @Html.TextBoxFor(model => model.nmClienteFisico, new { @class = "form-control text", maxlength = "50" })
                @Html.ValidationMessageFor(model => model.nmClienteFisico, null, new { @class = "text-danger" })
            </div>

            <div class="@Helper.Input5" id="divNmApelido">
                @Html.LabelFor(model => model.nmApelido, "Apelido", new { @class = Helper.LabelTop })
                @Html.TextBoxFor(model => model.nmApelido, new { @class = "form-control text", maxlength = "50" })
            </div>

            <div class="@Helper.Input5" id="divNmJuridico">
                @Html.LabelFor(model => model.nmClienteJuridico, "Razão social", new { @class = "required" })
                @Html.TextBoxFor(model => model.nmClienteJuridico, new { @class = "form-control text", maxlength = "50" })
                @Html.ValidationMessageFor(model => model.nmClienteJuridico, null, new { @class = "text-danger" })
            </div>

            <div class="@Helper.Input5" id="divNmFantasia">
                @Html.LabelFor(model => model.nmFantasia, "Nome fantasia", new { @class = Helper.LabelTop })
                @Html.TextBoxFor(model => model.nmFantasia, new { @class = "form-control text", maxlength = "50" })
            </div>
        </div>
    </div>
</div>

<h6 class="card-header">Informações endereço</h6>
<div class="card-body">
    <div class="form-group">
        <div class="form-row">
            <div class="@Helper.Input3">
                @Html.LabelFor(model => model.cep, "CEP", new { @class = "required" })
                @Html.TextBoxFor(model => model.cep, new { @class = "form-control", maxlength = "50", @id = "cep" })
                @Html.ValidationMessageFor(model => model.cep, null, new { @class = "text-danger" })
            </div>

            <div class="@Helper.Input5">
                @Html.LabelFor(model => model.endereco, "Logradouro", new { @class = "required" })
                @Html.TextBoxFor(model => model.endereco, new { @class = "form-control text", maxlength = "50" })
                @Html.ValidationMessageFor(model => model.endereco, null, new { @class = "text-danger" })
            </div>

            <div class="@Helper.Input4">
                @Html.LabelFor(model => model.bairro, "Bairro", new { @class = "required" })
                @Html.TextBoxFor(model => model.bairro, new { @class = "form-control text", maxlength = "50" })
                @Html.ValidationMessageFor(model => model.bairro, null, new { @class = "text-danger" })
            </div>
        </div>
    </div>

    <div class="form-group">
        <div class="form-row">
            <div class="@Helper.Input3">
                @Html.LabelFor(model => model.nrEndereco, "Número", new { @class = "required" })
                @Html.TextBoxFor(model => model.nrEndereco, new { @class = "form-control numeric", maxlength = "10" })
                @Html.ValidationMessageFor(model => model.nrEndereco, null, new { @class = "text-danger" })
            </div>

            <div class="@Helper.Input5">
                @Html.LabelFor(model => model.complemento, "Complemento", new { @class = Helper.LabelTop })
                @Html.TextBoxFor(model => model.complemento, new { @class = "form-control text", maxlength = "25" })
            </div>

            @Html.EditorFor(u => u.cidade, "Cidade/select", new { disabled = false })
        </div>
    </div>
</div>

<h6 class="card-header">Informações adicionais</h6>
<div class="card-body">

    <div class="form-group">
        <div class="form-row">
            <div class="@Helper.Input9">
                @Html.LabelFor(model => model.email, "E-mail", new { @class = Helper.LabelTop })
                @Html.TextBoxFor(model => model.email, new { @class = "form-control", maxlength = "50", @id = "email" })
            </div>

            <div class="@Helper.Input3">
                @Html.LabelFor(model => model.nrTel, "Celular", new { @class = "required" })
                @Html.TextBoxFor(model => model.nrTel, new { @class = "form-control", maxlength = "15", @id = "cel" })
                @Html.ValidationMessageFor(model => model.nrTel, null, new { @class = "text-danger" })
            </div>
        </div>
    </div>


    <div class="form-group">
        <div class="form-row">
            <div class="@Helper.Input3" id="divDtNascimento">
                @Html.LabelFor(model => model.dtNascimento, "Data de nascimento", new { @class = "required" })
                @Html.TextBoxFor(model => model.dtNascimento, new { @type = "date", @class = "form-control", @id = "dtNascimento" })
                @Html.ValidationMessageFor(model => model.dtNascimento, null, new { @class = "text-danger" })
            </div>

            <div class="@Helper.Input3" id="divGenero">
                @Html.LabelFor(model => model.genero, "Gênero", new { @class = "required" })
                @Html.DropDownListFor(model => model.genero, Pratica_Profissional.ViewModel.ClienteVM.Genero, new { @class = "form-control" })
            </div>

            <div class="@Helper.Input3" id="divCPF">
                @Html.LabelFor(model => model.cpf, "CPF", new { @class = "required" })
                @Html.TextBoxFor(model => model.cpf, new { @class = "form-control", @id = "cpf" })
                @Html.ValidationMessageFor(model => model.cpf, null, new { @class = "text-danger" })
            </div>

            <div class="@Helper.Input3" id="divCNPJ">
                @Html.LabelFor(model => model.cnpj, "CNPJ", new { @class = "required" })
                @Html.TextBoxFor(model => model.cnpj, new { @class = "form-control", @id = "cnpj" })
                @Html.ValidationMessageFor(model => model.cnpj, null, new { @class = "text-danger" })
            </div>

            <div class="@Helper.Input3" id="divRG">
                @Html.LabelFor(model => model.rg, "RG", new { @class = Helper.LabelTop })
                @Html.TextBoxFor(model => model.rg, new { @class = "form-control" })
            </div>

            <div class="@Helper.Input3" id="divInscricao">
                @Html.LabelFor(model => model.inscricaoEstadual, "Inscrição estadual", new { @class = Helper.LabelTop })
                @Html.TextBoxFor(model => model.inscricaoEstadual, new { @class = "form-control", maxlength = "20" })
            </div>
        </div>
    </div>


    <div class="form-group">
        <div class="form-row">
            <div class="@Helper.Input3">
                @Html.LabelFor(model => model.limiteCredito, "Limite de crédito (R$)", new { @class = Helper.LabelTop })
                @Html.TextBoxFor(model => model.limiteCredito, new { @class = "form-control currency", maxlength = "50" })
            </div>

            <div class="@Helper.Input9">
                @Html.LabelFor(model => model.dsObservacao, "Observações", new { @class = Helper.LabelTop })
                @Html.TextAreaFor(model => model.dsObservacao, new { @class = "form-control" })
            </div>

            @Html.EditorFor(u => u.condicaoPagamento, "CondicaoPagamento/select", new { disabled = false })
        </div>
    </div>

    @if (action != "create")
    {
        <div class="form-group">
            <div class="form-row">
                <div class="@Helper.Input3">
                    @Html.LabelFor(model => model.dtCadastro, "Data de cadastro", new { @class = Helper.LabelTop })
                    @Html.TextBoxFor(model => model.dtCadastro, new { @class = "form-control", disabled = "disabled" })
                </div>

                <div class="@Helper.Input3">
                    @Html.LabelFor(model => model.dtAtualizacao, "Última atualização", new { @class = Helper.LabelTop })
                    @Html.TextBoxFor(model => model.dtAtualizacao, new { @class = "form-control", disabled = "disabled" })
                </div>
            </div>
        </div>
    }

</div>

<div class="d-flex justify-content-end" style="padding-right:33px">
    <button type="button" style="margin-right:10px" class="btn btn-primary" onclick="location.href='@Url.Action("Index", "Cliente")'">Sair</button>
    @if ((action != "details") && (action != "delete"))
    {
        <button type="submit" class="btn btn-success">Salvar</button>
    }
    @if (action == "delete")
    {
        <button type="submit" class="btn btn-danger">Remover</button>
    }

</div>


<style>
    .kgroup {
    }

        .kgroup .id-input {
            width: 45px;
        }

        .kgroup .search-button {
            width: 45px;
            height: 38px;
            background-color: #f3f3f3;
            border-top: 1px solid #e1e1e1;
            border-bottom: 1px solid #e1e1e1;
        }

            .kgroup .search-button .fa-search {
                margin-top: -3px;
            }

        .kgroup .input-field {
            width: calc(100% - 133px);
            height: 45px;
            border-bottom-left-radius: 0;
            border-top-left-radius: 0;
        }

        .kgroup .select2-container {
            height: 45px;
        }
</style>
